# PRD: Plataforma de Consultoria Fitness â€“ GestÃ£o de Alunos + VÃ­deos + Assinaturas

## ğŸ§­ VisÃ£o Geral

Sistema web completo e responsivo, com painel administrativo para personal trainer e Ã¡rea exclusiva para alunos. Ideal para escalar uma consultoria fitness, centralizando gestÃ£o de alunos, treinos (PDF e vÃ­deos), planos alimentares e assinaturas recorrentes via Mercado Pago.

---

## ğŸ¯ Objetivos

- Automatizar a entrega de conteÃºdo personalizado (treino, alimentaÃ§Ã£o, vÃ­deos).
- Oferecer uma experiÃªncia profissional para alunos, com controle total para o administrador.
- Centralizar a comunicaÃ§Ã£o, pagamentos e evoluÃ§Ã£o fÃ­sica.
- Reduzir inadimplÃªncia e tarefas manuais com automaÃ§Ã£o.

---

## ğŸ‘¥ Perfis de UsuÃ¡rio

### ğŸ‘¨â€ğŸ’¼ Administrador (Douglas)
- Acesso total ao painel de gestÃ£o.
- Cadastra alunos, treinos (PDF e vÃ­deo), planos alimentares, pagamentos.

### ğŸ§â€â™‚ï¸ Aluno
- Acesso exclusivo ao seu perfil.
- Visualiza PDFs de treino, vÃ­deos, plano alimentar, evoluÃ§Ã£o e status de pagamento.

---

## âœ… Requisitos Funcionais

### ğŸ” AutenticaÃ§Ã£o
- Login com e-mail e senha (Supabase Auth)
- RecuperaÃ§Ã£o de senha via e-mail
- Perfis distintos: admin/aluno
- JWT com refresh tokens

---

### ğŸ“„ PÃ¡gina Inicial (Landing Page)
- Tema escuro, design profissional e responsivo
- ApresentaÃ§Ã£o institucional da consultoria
- BenefÃ­cios do mÃ©todo
- Tabela comparativa dos **3 planos**
- BotÃµes CTA com link para login/cadastro
- Estilo: minimalista, fonte Poppins, cores:
  - Fundo: `#0f172a` (cinza-azulado escuro)
  - Azul primÃ¡rio: `#3c83f6`
  - Branco para contraste: `#ffffff`

---

### ğŸ“ GestÃ£o de Alunos (Admin)
- Lista de alunos com filtros (nome, status)
- Cadastro/ediÃ§Ã£o de aluno:
  - Dados pessoais + foto
  - Status (ativo/inativo/pendente)
  - Plano atual e vencimento
- EvoluÃ§Ã£o fÃ­sica:
  - Peso, gordura corporal, medidas
  - HistÃ³rico e grÃ¡fico automÃ¡tico

---

### ğŸ‹ï¸ Treinos
#### ğŸ“„ PDF
- Upload de treinos em PDF por aluno
- VisualizaÃ§Ã£o pelo aluno

#### ğŸ¥ VÃ­deos
- Upload de vÃ­deos via Supabase Storage (MP4, atÃ© 500MB por vÃ­deo)
- OrganizaÃ§Ã£o por:
  - Nome
  - Objetivo (ex: HIIT, forÃ§a, abdÃ´men)
- DisponÃ­veis no painel do aluno para **streaming apenas** (sem download)
- AÃ§Ãµes do Admin: Adicionar / Excluir vÃ­deos

---

### ğŸ¥— Planos Alimentares
- Criados via formulÃ¡rio dinÃ¢mico ou upload de template
- Associados ao aluno
- VisualizaÃ§Ã£o estruturada (HTML) ou PDF no painel do aluno

---

### ğŸ“Š EvoluÃ§Ã£o FÃ­sica (Aluno)
- Dashboard com grÃ¡ficos:
  - Peso
  - Gordura corporal
  - Medidas (peito, braÃ§o, cintura, etc)
- ComparaÃ§Ã£o entre perÃ­odos
- VisualizaÃ§Ã£o somente

---

### ğŸ’³ Planos e Pagamentos
- Assinaturas recorrentes com **Mercado Pago**
- Checkout transparente
- Planos:
  - Mensal â€“ R$100/mÃªs
  - Trimestral â€“ R$250/3 meses
  - FamÃ­lia â€“ R$90/pessoa/mÃªs (mÃ­nimo 2 pessoas)
- IntegraÃ§Ã£o com webhooks:
  - AtivaÃ§Ã£o automÃ¡tica apÃ³s pagamento
  - Bloqueio automÃ¡tico apÃ³s inadimplÃªncia
- HistÃ³rico de transaÃ§Ãµes por aluno
- Painel financeiro com filtros (admin)

---

## ğŸ§  Estrutura de Dados

### Tabelas principais:

- `users`: id, email, senha_hash, tipo, nome, foto, status
- `alunos`: user_id (FK), nascimento, altura, genero, plano_id, status
- `evolucoes`: id, aluno_id, data, peso, gordura, medidas_json
- `treinos_pdf`: id, aluno_id, nome, url_pdf, data
- `treinos_video`: id, nome, objetivo, url_video, data_upload
- `planos_alimentares`: id, aluno_id, conteudo_html, data
- `assinaturas`: id, aluno_id, plano_tipo, preco, inicio, fim, status
- `pagamentos`: id, assinatura_id, status, valor, metodo, data

---

## ğŸŒ IntegraÃ§Ãµes

- **Supabase**
  - Auth com JWT e RLS
  - PostgreSQL
  - Storage (vÃ­deos, PDFs, fotos)
- **Mercado Pago**
  - Assinaturas recorrentes
  - Webhooks para bloqueio/desbloqueio
- **Recharts**
  - GrÃ¡ficos de evoluÃ§Ã£o
- **Email SMTP**
  - RecuperaÃ§Ã£o de senha
  - ConfirmaÃ§Ã£o de pagamento

---

## ğŸ¨ Design e UX/UI

- Tema escuro
- Layout responsivo (Next.js + TailwindCSS)
- PadrÃ£o Material Design adaptado ao fitness
- Tipografia: Poppins
- UX orientada a microinteraÃ§Ãµes e foco no conteÃºdo
- GrÃ¡ficos com Recharts integrados diretamente no painel

---

## ğŸ”’ SeguranÃ§a

- Supabase com RLS para isolar dados por aluno
- Criptografia de senhas (bcrypt)
- Tokens JWT com renovaÃ§Ã£o segura
- ProteÃ§Ãµes:
  - XSS
  - CSRF
  - SQL Injection (via Supabase ORM)
- Storage com URLs assinadas (vÃ­deos nÃ£o pÃºblicos)